<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Configurações — Home Assistant</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --muted:#9aa4b2;
      --accent:#7c5cff;
      --accent-2:#00d4ff;
      --glass: rgba(255,255,255,0.04);
      --radius:14px;
      --gap:16px;
      --shadow: 0 6px 30px rgba(2,6,23,0.6);
      --success:#22c55e;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:
        radial-gradient(1000px 600px at 10% 10%, rgba(124,92,255,0.10), transparent 8%),
        radial-gradient(900px 500px at 90% 90%, rgba(0,212,255,0.06), transparent 10%),
        var(--bg);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      gap:24px;
    }

    /* Card */
    .card{
      width:100%;
      max-width:920px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:var(--radius);
      padding:28px;
      box-shadow:var(--shadow);
      border:1px solid rgba(255,255,255,0.03);
      display:grid;
      grid-template-columns: 1fr 360px;
      gap:24px;
      align-items:start;
    }

    /* Header */
    .card-header{
      grid-column: 1 / -1;
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:16px;
    }
    .card-header h1{
      margin:0;
      font-size:20px;
      letter-spacing:0.2px;
    }
    .sub{
      color:var(--muted);
      font-size:13px;
      margin-top:6px;
    }

    /* Form area */
    form{
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    fieldset{
      border-radius:12px;
      border:1px solid rgba(255,255,255,0.03);
      padding:16px;
      background:var(--glass);
      margin:0;
    }
    legend{
      padding:0 8px;
      font-weight:600;
      color:var(--accent);
      font-size:13px;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(2, 1fr);
      gap:12px;
      margin-top:8px;
    }
    .full{grid-column:1/-1}

    label{
      display:block;
      font-size:13px;
      color:var(--muted);
      margin-bottom:6px;
    }
    input[type="text"],
    input[type="password"],
    input[type="url"]{
      width:100%;
      padding:10px 12px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.04);
      background:transparent;
      color:inherit;
      outline:none;
      font-size:14px;
      transition:box-shadow .12s, border-color .12s, transform .06s;
      backdrop-filter: blur(4px);
    }
    input::placeholder{color:rgba(255,255,255,0.18)}
    input:focus{
      box-shadow: 0 6px 20px rgba(124,92,255,0.12);
      border-color: rgba(124,92,255,0.9);
      transform: translateY(-1px);
    }

    /* Right column - preview / actions */
    .aside{
      padding:18px;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.03);
      display:flex;
      flex-direction:column;
      gap:12px;
      min-height:220px;
    }
    .status{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
    }
    .dot{
      width:12px;height:12px;border-radius:50%;
      background:var(--success);
      box-shadow:0 4px 14px rgba(34,197,94,0.15);
      flex:0 0 12px;
    }
    .small{font-size:13px;color:var(--muted)}
    .kvs{display:flex;flex-direction:column;gap:8px;margin-top:6px}
    .kv{display:flex;justify-content:space-between;align-items:center;font-size:13px;color:var(--muted)}
    .kv strong{color:#eaf2ff;font-weight:600}

    /* Buttons */
    .actions{
      margin-top:auto;
      display:flex;
      gap:10px;
      align-items:center;
    }
    button.primary{
      background: linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#051225;
      border:none;
      padding:12px 16px;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      box-shadow: 0 8px 28px rgba(124,92,255,0.12);
    }
    button.ghost{
      background:transparent;
      color:var(--muted);
      border:1px solid rgba(255,255,255,0.03);
      padding:10px 12px;
      border-radius:10px;
      cursor:pointer;
    }

    /* Footer small note */
    .note{font-size:12px;color:var(--muted);margin-top:6px}

    /* Responsive */
    @media (max-width:880px){
      .card{grid-template-columns:1fr; padding:18px}
      .aside{order:2}
    }
    @media (max-width:440px){
      .grid{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <main class="card" role="main" aria-labelledby="titulo">
    <div class="card-header">
      <div>
        <h1 id="titulo">Configurar Dispositivo</h1>
        <div class="sub">Rede, servidor WebSocket e identificação do equipamento</div>
      </div>
      <div class="small">Última alteração: <strong>agora</strong></div>
    </div>

    <!-- Form (col 1) -->
    <form action="/save" method="post" autocomplete="off" novalidate>
      <fieldset aria-labelledby="wifi-legend">
        <legend id="wifi-legend">Conexão Wireless</legend>
        <div class="grid">
          <div>
            <label for="ssid">SSID</label>
            <input id="ssid" name="ssid" type="text" disabled placeholder="Nome da rede (SSID)" required>
          </div>
          <div>
            <label for="pass">Senha</label>
            <input id="pass" name="pass" type="password" placeholder="Senha da rede" autocomplete="new-password">
          </div>
          <div class="full">
            <label for="wifi-note">Observação</label>
            <input id="wifi-note" name="wifiNote" type="text" placeholder="Ex: canal 6 / 2.4GHz (opcional)">
          </div>
        </div>
      </fieldset>

      <fieldset aria-labelledby="ws-legend">
        <legend id="ws-legend">Conexão Servidor</legend>
        <div class="grid">
          <div>
            <label for="userId">Id - Usuário</label>
            <input id="userId" name="userId" type="text" placeholder="ex.: usuario01">
          </div>
          <div>
            <label for="deviceId">Id - Equipamento</label>
            <input id="deviceId" name="deviceId" type="text" placeholder="ex.: wemos-01">
          </div>
          <div class="full">
            <label for="wshost">URL - Servidor (ws:// ou wss://)</label>
            <input id="wshost" name="wshost" type="url" placeholder="wss://meu-servidor.com:443/path">
          </div>
        </div>
      </fieldset>

      <div style="display:flex;gap:10px;align-items:center;">
        <button type="submit" class="primary">Salvar configurações</button>
        <button type="button" class="ghost" onclick="document.querySelector('form').reset()">Limpar</button>
        <div style="margin-left:auto" class="note">Configurações salvas localmente no dispositivo.</div>
      </div>
    </form>

    <!-- Aside (col 2) -->
    <aside class="aside" aria-label="Painel de status">
      <div class="status">
        <div style="display:flex;align-items:center;gap:10px">
          <div class="dot" aria-hidden="true"></div>
          <div>
            <div style="font-weight:700">Conectado</div>
            <div class="small">Última verificação: agora</div>
          </div>
        </div>
        <div class="small">Firmware v1.0.0</div>
      </div>

      <div class="kvs" aria-hidden="false">
        <div class="kv"><span>SSID</span><strong id="kv-ssid">—</strong></div>
        <div class="kv"><span>Host WS</span><strong id="kv-ws">—</strong></div>
        <div class="kv"><span>Device ID</span><strong id="kv-device">—</strong></div>
        <div class="kv"><span>Status</span><strong id="kv-status">Desconhecido</strong></div>
      </div>

      <div class="actions">
        <button class="ghost" type="button" onclick="alert('Enviar teste de conexão')">Testar conexão</button>
        <button class="primary" type="button" onclick="alert('Reiniciando dispositivo')">Reiniciar</button>
      </div>

      <div class="note">Dica: use um SSID 2.4GHz para compatibilidade máxima com dispositivos IoT.</div>
    </aside>
  </main>
</body>
</html>
